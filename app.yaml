name: roilux
services:
- name: frontend
  github:
    branch: main
    deploy_on_push: true
    repo: appfrabric/twood
  source_dir: frontend
  build_command: |
    npm install
    npm run build
  run_command: npm start
  http_port: 3000
  instance_count: 1
  instance_size_slug: basic-xxs
  routes:
  - path: /

- name: backend
  github:
    branch: main
    deploy_on_push: true
    repo: appfrabric/twood
  source_dir: backend
  build_command: |
    pip install -r requirements.txt
  run_command: |
    python create_admin.py
    uvicorn main:app --host 0.0.0.0 --port 5000
  http_port: 5000
  instance_count: 1
  instance_size_slug: basic-xxs
  routes:
  - path: /api

databases:
- engine: PG
  name: db
  production: false
  cluster_name: roilux-db
  db_name: roilux
  db_user: roilux 